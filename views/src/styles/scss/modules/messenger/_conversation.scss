.conversation-box {
    position     : relative;
    width        : 50%;
    border-left  : 1px solid var(--light-border);
    border-right : 1px solid var(--light-border);

    .conversation-box-wrapper {
        display        : flex;
        flex-direction : column;
        height         : 100%;

        .conversation-box-top {
            position        : relative;
            display         : flex;
            justify-content : space-between;
            height          : 60px;
            padding         : 13px 20px;
            background      : var(--light);
            border-bottom   : 1px solid var(--light-border);

            .conversation-box-members {
                display     : flex;
                align-items : center;
                cursor      : pointer;

                .conversation-img-container {
                    display      : flex;
                    position     : relative;
                    height       : 32px;
                    margin-right : 10px;

                    .conversation-img {
                        min-width     : 32px;
                        min-height    : 32px;
                        border-radius : 50%;

                        &:nth-child(n+2) {
                            margin-left : -12px;
                        }
                    }
                }

                .conversation-name {
                    display     : flex;
                    align-items : center;

                    svg {
                        margin-left : 5px;
                        width       : 20px;
                        height      : 20px;
                    }
                }
            }
        }

        .conversation-box-container {
            position         : relative;
            height           : 100%;
            overflow-y       : auto;
            padding          : 10px;
            background-color : var(--content-x-light);
        }
    }

    .messages-date {
        position    : relative;
        display     : flex;
        align-items : center;
        z-index     : 10;
        cursor      : pointer;

        .date {
            display       : flex;
            align-items   : center;
            text-align    : center;
            width         : 100%;
            padding       : 6px 20px;
            font-size     : 12px;

            svg {
                width       : 20px;
                height      : 20px;
                margin-top  : 1px;
                margin-left : 10px;
            }
            
            &:before, &:after {
                content    : '';
                border-top : 1px solid var(--light-border);
                margin     : 0 20px 0 0;
                flex       : 1 0 20px;
            }
            
            &:after {
                margin : 0 0 0 20px;
            }
        }

        .message-date-sort-tools {
            position      : absolute;
            top           : 32px;
            left          : 50%;
            transform     : translateX(-50%);
            padding       : 10px;
            background    : var(--content-light);
            border-radius : var(--radius);
            box-shadow    : var(--shadow-lg);
            z-index       : 11;

            div {
                padding     : 5px 10px;
                white-space : nowrap;

                &:hover {
                    background : var(--x-light);
                }
            }
        }
    }
}

/**
* EDITOR
*/

.conversation-bottom {
    padding    : 10px;
    background : var(--x-light);
}

.message-text-tools {
    display         : flex;
    justify-content : space-between;
    align-items     : center;
    width           : 100%;
    padding         : 5px;
    background      : var(--content-light);

    .text-tools-left, .text-tools-right {
        display : flex;

        .text-tools {
            padding : 4px;
            margin  : 0 4px;
        }

        .send-tool {
            padding          : 4px 8px;
            border-radius    : 3px;
            background-color : var(--primary);
            color            : white;
        }
    }

    .emoji-picker-container {
        position : absolute;
        right    : 0;
        bottom   : 70px;
    }
}

.conversation-toolsbox {
    position        : relative;
    display         : flex;
    flex-direction  : column;
    justify-content : space-between;
    border          : 2px solid var(--light-border);
    border-radius   : 5px;
    background      : var(--content-light);
}

.message-text-editor {
    width         : 100%;
    background    : var(--content-light);

    .ql-editor {
        background : var(--content-light);
        border     : 1px solid transparent;
        padding    : 10px 12px;

        &:focus {
            border : 1px solid var(--primary);
        }

        &.ql-blank::before {
            left : 15px;
            color : var(--text-secondary);
        }

        .ql-formats {
            border-right : 1px solid var(--light-border);
            margin-right : 0;
        }
    }

    .ql-toolbar.ql-snow {
        border  : none;
        padding : 5px;
        button {
            height  : unset;
            width   : unset;
            padding : 4px;
        }
        svg {
            width  : 14px;
            height : 14px;
        }
    }

    .ql-snow .ql-stroke, .ql-snow .ql-fill, .ql-snow .ql-stroke.ql-fill {
        stroke : var(--text);
    }
}

/**
* MESSAGE
*/

.message-container {
    position        : relative;
    display         : flex;
    justify-content : left;
    min-width       : 100%;

    .message {
        position  : relative;
        display   : inline-block;
        min-width : 230px;
        max-width : 70%;
        padding   : 15px;

        .message-content {
            display  : flex;
            position : relative;
            
            .message-left {
                order : 1;
                .message-img {
                    width         : 38px;
                    height        : 38px;
                    border-radius : 50%;
                    margin-right  : 10px;
                }
            }

            .message-right {
                position : relative;
                width    : 100%;
                order    : 2;

                .message-right-top {
                    display       : flex;
                    align-items   : flex-end;
                    margin-bottom : 3px;

                    .message-sender {
                        font-size    : 14px;
                        line-height  : 17px;
                        margin-right : 7px;
                        font-weight  : 500;
                    }
                }

                .message-right-bottom {
                    margin-left : 5px;
                    text-align  : right;
                    font-size   : 11px;
                    line-height : 17px;
                    color       : var(--text-secondary);
                }

                .message-text {
                    padding       : 10px 20px;
                    background    : rgba(var(--primary-rgb), 0.30);
                    margin        : 5px 0;
                    border-radius : 0 8px 8px;
                    p {
                        line-height : 17px;
                    }
                }

                .emoji-container {
                    display     : flex;
                    padding-top : 4px;

                    .emoji {
                        position        : relative;
                        display         : flex;
                        align-items     : center;
                        justify-content : center;
                        width           : 30px;
                        height          : 22px;
                        margin-right    : 5px;
                        border-radius   : 15px;
                        background      : rgba(var(--primary-rgb), 0.45);
                        border          : 1px solid var(--primary);
                    }

                    .emoji-add {
                        display         : flex;
                        align-items     : center;
                        justify-content : center;
                        width           : 30px;
                        height          : 22px;
                        margin-right    : 5px;
                        border-radius   : 15px;
                        background      : var(--body);
                        cursor          : pointer;
                    }
                }
            }

            .message-actions {
                display       : flex;
                position      : absolute;
                top           : -15px;
                left          : 44px;
                padding       : 5px 10px;
                border-radius : 5px;
                background    : var(--content-light);
                box-shadow    : var(--shadow-lg);
                cursor        : pointer;

                .message-actions-btn {
                    display         : flex;
                    align-items     : center;
                    justify-content : center;
                    padding         : 5px 7px;
                    margin          : 0 3px;
                    border-radius   : 5px;

                    svg {
                        width  : 14px;
                        height : 14px;
                    }
                }
            }
        }
    }

    &.own {
        justify-content: right;
        .message {
            .message-left {
                display      : flex;
                align-items  : flex-end;
                order        : 2;
                margin-right : unset;
                .message-img {
                    margin-right : unset;
                    margin-left  : 10px;
                }
            }
            .message-right {
                order : 1;
                .message-right-top {
                    .message-sender {
                        display : none;
                    }
                }
                .message-text {
                    background    : rgba(var(--primary-rgb), 0.10);
                    border-radius : 8px 8px 0;
                    p {
                        line-height : 17px;
                    }
                }
            }
            .message-actions {
                top   : -32px;
                left  : unset;
                right : 44px;
            }
        }
    }
}

.is-typing {
    position      : absolute;
    font-size     : 12px;
    top           : -32px;
    right         : 20px;
    padding       : 3px 10px;
    background    : rgba(var(--primary-rgb), 0.6);
    color         : white;
    border-radius : var(--radius);

    svg {
        margin-left : 10px;
        max-height  : 11px;
        width       : 30px;
    }
}